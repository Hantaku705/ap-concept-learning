---
description: "/organize-folders - フォルダ構造の分析・整頓"
---

# Organize Folders

フォルダ構造を分析し、問題を検出して整頓する。

## 実行手順

1. **現在の構造を分析**
   - ディレクトリツリーを生成（2階層まで）
   - CLAUDE.md一覧を取得
   - ルート直下のファイル一覧を取得

2. **問題を検出**
   - CRITICAL: プロジェクトフォルダにCLAUDE.mdがない
   - HIGH: ルートに本来別フォルダにあるべきファイル
   - MEDIUM: 日本語ファイル名/フォルダ名
   - LOW: 空フォルダ

3. **改善案を生成**
   - 問題ごとに具体的な対応策をリスト化
   - 移動先、リネーム案、CLAUDE.md作成内容を提示

4. **ユーザーに確認**
   - Before/After構造を表示
   - 実行するかをAskUserQuestionで確認

5. **実行（承認後）**
   - フォルダ作成（mkdir -p）
   - ファイル移動（mv）
   - リネーム（mv）
   - CLAUDE.md作成（Write）

6. **結果をレポート**
   - 変更されたファイル一覧
   - 最終的な構造ツリー

## 検出ルール

| レベル | 問題 | 対応 |
|--------|------|------|
| CRITICAL | プロジェクトにCLAUDE.mdなし | CLAUDE.md作成 |
| HIGH | ルートに散乱ファイル | 適切なフォルダに移動 |
| MEDIUM | 日本語名 | 英語名にリネーム |
| LOW | 空フォルダ | 削除または保持（確認） |

## CLAUDE.md自動生成ルール

プロジェクトのCLAUDE.mdを自動生成する際:

1. **フォルダ名から1行説明を推測**
   - kebab-case → Title Case に変換
   - 既知のパターン（webapp, docs, etc.）から用途を推測

2. **技術スタック検出**
   - `webapp/package.json` があれば依存関係から検出
   - Next.js / React / TypeScript のバージョンを取得

3. **フォルダ構成を自動生成**
   - 直下のフォルダとファイルをリスト化
   - 重要なファイル（*.md, *.json, *.ts）を優先

4. **Key Filesを推測**
   - `src/data/*.ts` → データファイル
   - `src/app/page.tsx` → メインページ
   - `*.pdf` → 提案資料

## テンプレート

```markdown
# [プロジェクト名] - [1行説明]

## 概要

| 項目 | 値 |
|------|-----|
| 本番URL | [Vercel URLまたは未デプロイ] |
| 技術 | [検出した技術スタック] |

## フォルダ構成

```
[プロジェクト名]/
├── [フォルダ/ファイル一覧]
```

## Key Files

| ファイル | 用途 |
|---------|------|
| [ファイル] | [用途] |

## 更新履歴

- YYYY-MM-DD: CLAUDE.md作成
```

## 注意事項

- 実行前に必ずユーザー確認を取る
- git管理下の場合は移動後に `git add` を提案
- 破壊的な操作（削除）は提案のみで自動実行しない
- 日本語ファイル名のリネームは内容から英語名を推測
