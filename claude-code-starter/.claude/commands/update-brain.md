# /update-brain - 共通設定の更新

`~/.claude/CLAUDE.md`（Claude Code Brain）に新しいナレッジを追加・更新する。

## 使い方

```
/update-brain                    # 対話形式で更新内容を確認
/update-brain skill [名前]       # 新しいスキルを追加
/update-brain agent [名前]       # 新しいSubagentを追加
/update-brain pattern [名前]     # 新しいパターンを追加
```

---

## 実行手順

### 1. 現状確認

```bash
cat ~/.claude/CLAUDE.md
```

現在の内容を確認し、どのセクションを更新するか特定。

### 2. 更新タイプの判別

| 更新タイプ | 追加先セクション | 例 |
|-----------|-----------------|-----|
| 新しいスキル | 3. Skill定義テンプレート | `/new-skill` |
| 新しいSubagent | 4. Subagent定義テンプレート | `new-agent` |
| 運用方針の改善 | 1. 運用方針 | 判断基準の追加 |
| セッション管理の改善 | 2. セッション管理 | 新しいコマンド |
| 新しいパターン | 7. よくあるパターン | ワークフロー |

### 3. 更新実行

1. ユーザーに更新内容を確認
2. `~/.claude/CLAUDE.md` を編集
3. 変更内容を報告

### 4. 関連ファイルの作成（必要に応じて）

- 新しいスキル → `~/.claude/commands/[skill-name].md` を作成
- 新しいSubagent → `~/.claude/agents/[agent-name].md` を作成

---

## 更新例

### スキル追加

```markdown
## 3. Skill定義テンプレート

### Git系スキル
...

### 品質管理スキル
...

+ ### [新カテゴリ]スキル
+
+ | スキル | 用途 |
+ |--------|------|
+ | `/new-skill` | [説明] |
```

### Subagent追加

```markdown
## 4. Subagent定義テンプレート

### 開発用Subagent
...

+ ### [新カテゴリ]Subagent
+
+ | Agent | 用途 | ツール | モデル |
+ |-------|------|--------|--------|
+ | `new-agent` | [説明] | [tools] | [model] |
```

### パターン追加

```markdown
## 7. よくあるパターン

### 新プロジェクト開始時
...

+ ### [新しいパターン名]
+
+ 1. [ステップ1]
+ 2. [ステップ2]
+ 3. [ステップ3]
```

---

## 注意事項

- **既存の内容を削除しない** - 追記が基本
- **テンプレートの形式を維持** - 表形式、コードブロックなど
- **汎用性を意識** - プロジェクト固有の内容は入れない
- **更新後は確認** - 変更内容をユーザーに報告

---

## ファイル一覧

```
~/.claude/
├── CLAUDE.md           # ← このファイルを更新
├── commands/
│   ├── update-brain.md # ← このスキル
│   └── ...
└── agents/
    └── ...
```
