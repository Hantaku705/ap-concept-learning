import { ServicePattern } from '@/types/subscription';

export const servicePatterns: ServicePattern[] = [
  // Streaming
  {
    serviceName: 'Netflix',
    senderPatterns: ['@netflix.com', '@mailer.netflix.com'],
    subjectPatterns: ['Netflix.*請求', 'Netflix.*領収', 'お支払い.*Netflix', 'Netflix.*payment', 'Netflix.*receipt'],
    amountPatterns: ['¥([\\d,]+)', '([\\d,]+)円', '\\$([\\d.]+)'],
    category: 'streaming',
    cancellationUrl: 'https://www.netflix.com/cancelplan',
    logoUrl: 'https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/netflix.svg',
  },
  {
    serviceName: 'Amazon Prime',
    senderPatterns: ['@amazon.co.jp', '@amazon.com'],
    subjectPatterns: ['Prime.*会費', 'Amazonプライム.*お支払い', 'Prime Video', 'Amazon Prime.*payment', 'プライム会費'],
    amountPatterns: ['¥([\\d,]+)', '([\\d,]+)円'],
    category: 'streaming',
    cancellationUrl: 'https://www.amazon.co.jp/gp/primecentral',
    logoUrl: 'https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/amazonprime.svg',
  },
  {
    serviceName: 'Spotify',
    senderPatterns: ['@spotify.com'],
    subjectPatterns: ['Spotify.*領収', 'Spotify Premium', 'お支払い.*Spotify', 'Spotify.*receipt'],
    amountPatterns: ['¥([\\d,]+)', '([\\d,]+)円', '\\$([\\d.]+)'],
    category: 'streaming',
    cancellationUrl: 'https://support.spotify.com/jp/article/cancel-premium/',
    logoUrl: 'https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/spotify.svg',
  },
  {
    serviceName: 'YouTube Premium',
    senderPatterns: ['@youtube.com', '@google.com', 'googleplay'],
    subjectPatterns: ['YouTube Premium.*請求', 'YouTube.*お支払い', 'Google Play.*YouTube', 'YouTube Premium.*receipt'],
    amountPatterns: ['¥([\\d,]+)', '([\\d,]+)円'],
    category: 'streaming',
    cancellationUrl: 'https://support.google.com/youtube/answer/6308278',
    logoUrl: 'https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/youtube.svg',
  },
  {
    serviceName: 'Apple Music',
    senderPatterns: ['@apple.com', '@email.apple.com'],
    subjectPatterns: ['Apple Music.*領収', 'Apple.*サブスクリプション', 'App Store.*領収', 'Apple Music.*receipt'],
    amountPatterns: ['¥([\\d,]+)', '([\\d,]+)円'],
    category: 'streaming',
    cancellationUrl: 'https://support.apple.com/ja-jp/HT202039',
    logoUrl: 'https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/applemusic.svg',
  },
  {
    serviceName: 'Disney+',
    senderPatterns: ['@disney', '@disneyplus.com'],
    subjectPatterns: ['Disney\\+.*請求', 'Disney Plus.*payment', 'ディズニー.*お支払い'],
    amountPatterns: ['¥([\\d,]+)', '([\\d,]+)円', '\\$([\\d.]+)'],
    category: 'streaming',
    cancellationUrl: 'https://www.disneyplus.com/account',
    logoUrl: 'https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/disneyplus.svg',
  },
  {
    serviceName: 'U-NEXT',
    senderPatterns: ['@unext.jp', '@u-next.jp'],
    subjectPatterns: ['U-NEXT.*請求', 'ユーネクスト.*お支払い', 'U-NEXT.*月額'],
    amountPatterns: ['¥([\\d,]+)', '([\\d,]+)円'],
    category: 'streaming',
    cancellationUrl: 'https://help.unext.jp/guide/detail/how-to-cancel',
    logoUrl: '',
  },
  // Software/SaaS
  {
    serviceName: 'Adobe Creative Cloud',
    senderPatterns: ['@adobe.com', '@adobemail.com'],
    subjectPatterns: ['Adobe.*請求', 'Creative Cloud.*お支払い', 'Adobe.*領収', 'Adobe.*invoice'],
    amountPatterns: ['¥([\\d,]+)', '([\\d,]+)円', '\\$([\\d.]+)'],
    category: 'software',
    cancellationUrl: 'https://helpx.adobe.com/jp/manage-account/using/cancel-subscription.html',
    logoUrl: 'https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/adobe.svg',
  },
  {
    serviceName: 'Microsoft 365',
    senderPatterns: ['@microsoft.com', '@email.microsoft.com'],
    subjectPatterns: ['Microsoft 365.*請求', 'Office.*サブスクリプション', 'Microsoft.*お支払い', 'Microsoft 365.*renewal'],
    amountPatterns: ['¥([\\d,]+)', '([\\d,]+)円'],
    category: 'software',
    cancellationUrl: 'https://support.microsoft.com/ja-jp/office/',
    logoUrl: 'https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/microsoft.svg',
  },
  {
    serviceName: 'Notion',
    senderPatterns: ['@notion.so', '@makenotion.com'],
    subjectPatterns: ['Notion.*invoice', 'Notion.*receipt', 'Notion.*billing', 'Notion.*請求'],
    amountPatterns: ['\\$([\\d.]+)', '¥([\\d,]+)'],
    category: 'software',
    cancellationUrl: 'https://www.notion.so/help/billing-and-payment',
    logoUrl: 'https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/notion.svg',
  },
  {
    serviceName: 'Slack',
    senderPatterns: ['@slack.com'],
    subjectPatterns: ['Slack.*invoice', 'Slack.*receipt', 'Slack.*請求'],
    amountPatterns: ['\\$([\\d.]+)', '¥([\\d,]+)'],
    category: 'software',
    cancellationUrl: 'https://slack.com/help/articles/218915077',
    logoUrl: 'https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/slack.svg',
  },
  {
    serviceName: 'ChatGPT Plus',
    senderPatterns: ['@openai.com'],
    subjectPatterns: ['ChatGPT.*receipt', 'OpenAI.*payment', 'ChatGPT Plus', 'OpenAI.*invoice'],
    amountPatterns: ['\\$([\\d.]+)', '¥([\\d,]+)'],
    category: 'software',
    cancellationUrl: 'https://help.openai.com/en/articles/8546615',
    logoUrl: 'https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/openai.svg',
  },
  {
    serviceName: 'GitHub',
    senderPatterns: ['@github.com'],
    subjectPatterns: ['GitHub.*receipt', 'GitHub.*payment', 'GitHub Pro', 'GitHub.*invoice'],
    amountPatterns: ['\\$([\\d.]+)', '¥([\\d,]+)'],
    category: 'software',
    cancellationUrl: 'https://docs.github.com/en/billing/managing-your-github-billing-settings',
    logoUrl: 'https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/github.svg',
  },
  // Cloud Storage
  {
    serviceName: 'Google One',
    senderPatterns: ['@google.com', '@googleplay.com'],
    subjectPatterns: ['Google One.*請求', 'Google ストレージ.*お支払い', 'Google One.*領収', 'Google One.*receipt'],
    amountPatterns: ['¥([\\d,]+)', '([\\d,]+)円'],
    category: 'cloud',
    cancellationUrl: 'https://one.google.com/settings',
    logoUrl: 'https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/google.svg',
  },
  {
    serviceName: 'iCloud+',
    senderPatterns: ['@apple.com', '@email.apple.com'],
    subjectPatterns: ['iCloud.*領収', 'iCloud\\+.*お支払い', 'iCloud ストレージ', 'iCloud.*receipt'],
    amountPatterns: ['¥([\\d,]+)', '([\\d,]+)円'],
    category: 'cloud',
    cancellationUrl: 'https://support.apple.com/ja-jp/HT207594',
    logoUrl: 'https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/icloud.svg',
  },
  {
    serviceName: 'Dropbox',
    senderPatterns: ['@dropbox.com', '@dropboxmail.com'],
    subjectPatterns: ['Dropbox.*receipt', 'Dropbox.*invoice', 'Dropbox.*領収', 'Dropbox Plus', 'Dropbox Professional'],
    amountPatterns: ['\\$([\\d.]+)', '¥([\\d,]+)'],
    category: 'cloud',
    cancellationUrl: 'https://help.dropbox.com/ja-jp/accounts-billing/cancellations-refunds/cancel',
    logoUrl: 'https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/dropbox.svg',
  },
  // Gaming
  {
    serviceName: 'PlayStation Plus',
    senderPatterns: ['@playstation.com', '@sony.com', 'playstation'],
    subjectPatterns: ['PlayStation Plus.*請求', 'PS Plus.*お支払い', 'PlayStation.*領収', 'PlayStation Plus.*receipt'],
    amountPatterns: ['¥([\\d,]+)', '([\\d,]+)円'],
    category: 'gaming',
    cancellationUrl: 'https://www.playstation.com/ja-jp/support/store/cancel-ps-store-subscription/',
    logoUrl: 'https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/playstation.svg',
  },
  {
    serviceName: 'Nintendo Switch Online',
    senderPatterns: ['@nintendo.com', '@nintendo.co.jp'],
    subjectPatterns: ['Nintendo Switch Online.*請求', 'Nintendo.*お支払い', 'ニンテンドー.*月額'],
    amountPatterns: ['¥([\\d,]+)', '([\\d,]+)円'],
    category: 'gaming',
    cancellationUrl: 'https://www.nintendo.co.jp/support/switch/online/automatic_renewal.html',
    logoUrl: 'https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/nintendoswitch.svg',
  },
  {
    serviceName: 'Xbox Game Pass',
    senderPatterns: ['@xbox.com', '@microsoft.com'],
    subjectPatterns: ['Xbox Game Pass.*請求', 'Game Pass.*お支払い', 'Xbox.*サブスクリプション', 'Xbox Game Pass.*receipt'],
    amountPatterns: ['¥([\\d,]+)', '([\\d,]+)円'],
    category: 'gaming',
    cancellationUrl: 'https://support.xbox.com/ja-JP/help/subscriptions-billing/manage-subscriptions/cancel-subscription',
    logoUrl: 'https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/xbox.svg',
  },
  // Fitness
  {
    serviceName: 'Apple Fitness+',
    senderPatterns: ['@apple.com'],
    subjectPatterns: ['Fitness\\+.*領収', 'Apple Fitness.*お支払い', 'Fitness\\+.*receipt'],
    amountPatterns: ['¥([\\d,]+)', '([\\d,]+)円'],
    category: 'fitness',
    cancellationUrl: 'https://support.apple.com/ja-jp/HT202039',
    logoUrl: 'https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/apple.svg',
  },
  // Marketing/Business Services
  {
    serviceName: 'SNS侍',
    senderPatterns: ['sns-samurai', 'snssamurai', 'sns侍', 'snsmkt'],
    subjectPatterns: ['SNS侍.*請求', 'SNS侍.*ご利用', '請求.*SNS侍', '.*SNS侍.*', 'ご請求.*侍'],
    amountPatterns: ['¥([\\d,]+)', '([\\d,]+)円', '合計.*?([\\d,]+)円', '請求金額.*?([\\d,]+)'],
    category: 'software',
    cancellationUrl: '',
    logoUrl: '',
  },
  // News
  {
    serviceName: '日経電子版',
    senderPatterns: ['@nikkei.com', 'nikkei'],
    subjectPatterns: ['日経電子版.*請求', '日経.*お支払い', '日本経済新聞.*月額'],
    amountPatterns: ['¥([\\d,]+)', '([\\d,]+)円'],
    category: 'news',
    cancellationUrl: 'https://www.nikkei.com/help/subscribe/cancel/',
    logoUrl: '',
  },
  // Generic patterns for PDF invoices (priority)
  {
    serviceName: 'PDF Invoice',
    senderPatterns: [],
    subjectPatterns: [
      '.*請求書',
      '.*領収書',
      '.*明細書',
      '.*ご利用明細',
      '.*invoice',
      '.*receipt',
      '.*statement',
      '.*お支払い.*確認',
      '.*ご請求',
      '.*決済.*完了',
    ],
    amountPatterns: ['¥([\\d,]+)', '([\\d,]+)円', '\\$([\\d.]+)', '€([\\d.]+)', '([\\d,]+)\\s*円'],
    category: 'other',
    isPdfPattern: true,
  },
  // Generic patterns for embedded invoices (HTML/text in body, no PDF required)
  {
    serviceName: 'Embedded Invoice',
    senderPatterns: [],
    subjectPatterns: [
      '.*請求書.*',
      '.*ご請求.*',
      '.*請求のお知らせ.*',
      '.*ご利用料金.*',
      '.*お支払い.*のお知らせ',
      '.*料金.*確定',
      '.*月額.*請求',
      '.*利用料.*お知らせ',
    ],
    amountPatterns: ['¥([\\d,]+)', '([\\d,]+)円', '\\$([\\d.]+)', '€([\\d.]+)', '合計.*?([\\d,]+)', '請求金額.*?([\\d,]+)'],
    category: 'other',
    isEmbeddedInvoice: true,
  },
  // Generic patterns for unknown services
  {
    serviceName: 'Unknown Subscription',
    senderPatterns: [],
    subjectPatterns: [
      '.*サブスクリプション.*請求',
      '.*月額.*お支払い',
      '.*定期購入.*領収',
      '.*subscription.*invoice',
      '.*monthly.*billing',
      '.*recurring.*payment',
      '.*自動更新.*お知らせ',
    ],
    amountPatterns: ['¥([\\d,]+)', '([\\d,]+)円', '\\$([\\d.]+)', '€([\\d.]+)'],
    category: 'other',
  },
];
