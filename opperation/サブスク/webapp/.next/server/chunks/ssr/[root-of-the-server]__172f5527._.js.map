{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/module.compiled.js","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","../../../../src/contexts/AuthContext.tsx","../../../../src/contexts/SubscriptionContext.tsx","../../../../src/contexts/CancellationGuideContext.tsx"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","\"use client\";\n\nimport { createContext, useContext, useState, useEffect, useCallback, ReactNode } from 'react';\nimport { AuthState, AuthTokens } from '@/types/auth';\n\ninterface AuthContextType extends AuthState {\n  login: () => void;\n  logout: () => void;\n  setTokens: (tokens: AuthTokens, email: string) => void;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nconst STORAGE_KEY = 'subscription_tracker_auth';\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n  const [state, setState] = useState<AuthState>({\n    isAuthenticated: false,\n    isLoading: true,\n    tokens: null,\n    userEmail: null,\n    error: null,\n  });\n\n  // 初期化時にLocalStorageから読み込み\n  useEffect(() => {\n    const stored = localStorage.getItem(STORAGE_KEY);\n    if (stored) {\n      try {\n        const { tokens, userEmail } = JSON.parse(stored);\n        if (tokens && tokens.expiresAt > Date.now()) {\n          setState({\n            isAuthenticated: true,\n            isLoading: false,\n            tokens,\n            userEmail,\n            error: null,\n          });\n          return;\n        }\n      } catch (e) {\n        console.error('Failed to parse auth from storage', e);\n      }\n    }\n    setState(prev => ({ ...prev, isLoading: false }));\n  }, []);\n\n  const login = useCallback(() => {\n    window.location.href = '/api/auth/login';\n  }, []);\n\n  const logout = useCallback(() => {\n    localStorage.removeItem(STORAGE_KEY);\n    setState({\n      isAuthenticated: false,\n      isLoading: false,\n      tokens: null,\n      userEmail: null,\n      error: null,\n    });\n  }, []);\n\n  const setTokens = useCallback((tokens: AuthTokens, email: string) => {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify({ tokens, userEmail: email }));\n    setState({\n      isAuthenticated: true,\n      isLoading: false,\n      tokens,\n      userEmail: email,\n      error: null,\n    });\n  }, []);\n\n  return (\n    <AuthContext.Provider value={{ ...state, login, logout, setTokens }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n}\n","\"use client\";\n\nimport { createContext, useContext, useState, useEffect, useCallback, ReactNode } from 'react';\nimport { Subscription, ServiceCategory } from '@/types/subscription';\nimport { useAuth } from './AuthContext';\n\ninterface ScanStats {\n  scannedEmails: number;\n  detectedServices: number;\n  newSubscriptions: number;\n  updatedSubscriptions: number;\n}\n\ninterface SubscriptionContextType {\n  subscriptions: Subscription[];\n  isLoading: boolean;\n  isScanning: boolean;\n  scanProgress: { current: number; total: number } | null;\n  lastScanAt: string | null;\n  lastScanStats: ScanStats | null;\n\n  // 操作\n  addSubscription: (sub: Omit<Subscription, 'id' | 'createdAt' | 'updatedAt'>) => void;\n  updateSubscription: (id: string, updates: Partial<Subscription>) => void;\n  deleteSubscription: (id: string) => void;\n  scanEmails: (periodDays?: number) => Promise<void>;\n\n  // 集計\n  getTotalMonthlyAmount: () => number;\n  getByCategory: () => Record<ServiceCategory, Subscription[]>;\n  getUpcomingRenewals: (days: number) => Subscription[];\n  getActiveSubscriptions: () => Subscription[];\n}\n\nconst SubscriptionContext = createContext<SubscriptionContextType | undefined>(undefined);\n\nconst LEGACY_STORAGE_KEY = 'subscription_tracker_data';\nconst getStorageKey = (email: string) => `subscription_data_${email}`;\n\nexport function SubscriptionProvider({ children }: { children: ReactNode }) {\n  const [subscriptions, setSubscriptions] = useState<Subscription[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isScanning, setIsScanning] = useState(false);\n  const [scanProgress, setScanProgress] = useState<{ current: number; total: number } | null>(null);\n  const [lastScanAt, setLastScanAt] = useState<string | null>(null);\n  const [lastScanStats, setLastScanStats] = useState<ScanStats | null>(null);\n\n  const { tokens, userEmail, isLoading: authLoading } = useAuth();\n\n  // LocalStorageから読み込み（userEmail確定後）\n  useEffect(() => {\n    // 認証ローディング中は待機\n    if (authLoading) return;\n\n    // ユーザー未ログイン時はリセット\n    if (!userEmail) {\n      setSubscriptions([]);\n      setLastScanAt(null);\n      setIsLoading(false);\n      return;\n    }\n\n    const storageKey = getStorageKey(userEmail);\n\n    // 旧キーからのマイグレーション（初回のみ）\n    const legacyData = localStorage.getItem(LEGACY_STORAGE_KEY);\n    const newData = localStorage.getItem(storageKey);\n\n    if (legacyData && !newData) {\n      // 旧データがあり、新キーにデータがない場合は移行\n      try {\n        const parsed = JSON.parse(legacyData);\n        localStorage.setItem(storageKey, legacyData);\n        localStorage.removeItem(LEGACY_STORAGE_KEY);\n        console.log(`Migrated subscription data to user-specific key: ${storageKey}`);\n        setSubscriptions(parsed.subscriptions || []);\n        setLastScanAt(parsed.lastScanAt || null);\n      } catch (e) {\n        console.error('Failed to migrate legacy data', e);\n      }\n    } else {\n      // 新キーからデータ読み込み\n      const stored = localStorage.getItem(storageKey);\n      if (stored) {\n        try {\n          const { subscriptions: subs, lastScanAt: scanAt } = JSON.parse(stored);\n          setSubscriptions(subs || []);\n          setLastScanAt(scanAt || null);\n        } catch (e) {\n          console.error('Failed to parse subscriptions from storage', e);\n        }\n      }\n    }\n\n    setIsLoading(false);\n  }, [userEmail, authLoading]);\n\n  // 保存（userEmailがある場合のみ）\n  useEffect(() => {\n    if (!isLoading && userEmail) {\n      const storageKey = getStorageKey(userEmail);\n      localStorage.setItem(storageKey, JSON.stringify({ subscriptions, lastScanAt }));\n    }\n  }, [subscriptions, lastScanAt, isLoading, userEmail]);\n\n  const addSubscription = useCallback((sub: Omit<Subscription, 'id' | 'createdAt' | 'updatedAt'>) => {\n    const now = new Date().toISOString();\n    const newSub: Subscription = {\n      ...sub,\n      id: crypto.randomUUID(),\n      createdAt: now,\n      updatedAt: now,\n    };\n    setSubscriptions(prev => [...prev, newSub]);\n  }, []);\n\n  const updateSubscription = useCallback((id: string, updates: Partial<Subscription>) => {\n    setSubscriptions(prev => prev.map(sub =>\n      sub.id === id\n        ? { ...sub, ...updates, updatedAt: new Date().toISOString() }\n        : sub\n    ));\n  }, []);\n\n  const deleteSubscription = useCallback((id: string) => {\n    setSubscriptions(prev => prev.filter(sub => sub.id !== id));\n  }, []);\n\n  const scanEmails = useCallback(async (periodDays?: number) => {\n    if (!tokens?.accessToken) return;\n\n    setIsScanning(true);\n    setScanProgress({ current: 0, total: 0 });\n\n    try {\n      const response = await fetch('/api/gmail/scan', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          accessToken: tokens.accessToken,\n          existingSubscriptions: subscriptions,\n          periodDays,\n        }),\n      });\n\n      if (!response.ok) throw new Error('Scan failed');\n\n      const data = await response.json();\n      setSubscriptions(data.subscriptions);\n      setLastScanAt(new Date().toISOString());\n      setLastScanStats(data.stats);\n    } catch (error) {\n      console.error('Scan error:', error);\n    } finally {\n      setIsScanning(false);\n      setScanProgress(null);\n    }\n  }, [tokens, subscriptions]);\n\n  const getTotalMonthlyAmount = useCallback((): number => {\n    return subscriptions\n      .filter(s => s.status === 'active')\n      .reduce((sum, s) => {\n        if (s.billingCycle === 'yearly') return sum + s.amount / 12;\n        if (s.billingCycle === 'quarterly') return sum + s.amount / 3;\n        if (s.billingCycle === 'weekly') return sum + s.amount * 4;\n        return sum + s.amount;\n      }, 0);\n  }, [subscriptions]);\n\n  const getByCategory = useCallback((): Record<ServiceCategory, Subscription[]> => {\n    const result = {} as Record<ServiceCategory, Subscription[]>;\n    subscriptions\n      .filter(s => s.status === 'active')\n      .forEach(sub => {\n        if (!result[sub.category]) result[sub.category] = [];\n        result[sub.category].push(sub);\n      });\n    return result;\n  }, [subscriptions]);\n\n  const getUpcomingRenewals = useCallback((days: number): Subscription[] => {\n    const now = new Date();\n    const future = new Date();\n    future.setDate(future.getDate() + days);\n\n    return subscriptions\n      .filter(s => s.status === 'active')\n      .filter(s => {\n        const nextDate = new Date(s.nextBillingDate);\n        return nextDate >= now && nextDate <= future;\n      })\n      .sort((a, b) => new Date(a.nextBillingDate).getTime() - new Date(b.nextBillingDate).getTime());\n  }, [subscriptions]);\n\n  const getActiveSubscriptions = useCallback((): Subscription[] => {\n    return subscriptions.filter(s => s.status === 'active');\n  }, [subscriptions]);\n\n  return (\n    <SubscriptionContext.Provider\n      value={{\n        subscriptions,\n        isLoading,\n        isScanning,\n        scanProgress,\n        lastScanAt,\n        lastScanStats,\n        addSubscription,\n        updateSubscription,\n        deleteSubscription,\n        scanEmails,\n        getTotalMonthlyAmount,\n        getByCategory,\n        getUpcomingRenewals,\n        getActiveSubscriptions,\n      }}\n    >\n      {children}\n    </SubscriptionContext.Provider>\n  );\n}\n\nexport function useSubscriptions() {\n  const context = useContext(SubscriptionContext);\n  if (context === undefined) {\n    throw new Error('useSubscriptions must be used within a SubscriptionProvider');\n  }\n  return context;\n}\n","\"use client\";\n\nimport { createContext, useContext, useState, useEffect, useCallback, ReactNode } from 'react';\nimport { GeneratedCancellationGuide } from '@/app/api/cancellation-guide/route';\nimport { useAuth } from './AuthContext';\n\ninterface CancellationGuideContextType {\n  cachedGuides: Record<string, GeneratedCancellationGuide>;\n  loadingServices: Set<string>;\n  fetchGuide: (serviceName: string) => Promise<GeneratedCancellationGuide | null>;\n  getGuide: (serviceName: string) => GeneratedCancellationGuide | undefined;\n  isLoading: (serviceName: string) => boolean;\n}\n\nconst CancellationGuideContext = createContext<CancellationGuideContextType | null>(null);\n\nconst LEGACY_STORAGE_KEY = 'cached_cancellation_guides';\nconst getStorageKey = (email: string) => `cancellation_guides_${email}`;\n\nexport function CancellationGuideProvider({ children }: { children: ReactNode }) {\n  const [cachedGuides, setCachedGuides] = useState<Record<string, GeneratedCancellationGuide>>({});\n  const [loadingServices, setLoadingServices] = useState<Set<string>>(new Set());\n  const [isInitialized, setIsInitialized] = useState(false);\n\n  const { userEmail, isLoading: authLoading } = useAuth();\n\n  // LocalStorageから復元（userEmail確定後）\n  useEffect(() => {\n    // 認証ローディング中は待機\n    if (authLoading) return;\n\n    // ユーザー未ログイン時はリセット\n    if (!userEmail) {\n      setCachedGuides({});\n      setIsInitialized(true);\n      return;\n    }\n\n    const storageKey = getStorageKey(userEmail);\n\n    // 旧キーからのマイグレーション（初回のみ）\n    const legacyData = localStorage.getItem(LEGACY_STORAGE_KEY);\n    const newData = localStorage.getItem(storageKey);\n\n    if (legacyData && !newData) {\n      try {\n        localStorage.setItem(storageKey, legacyData);\n        localStorage.removeItem(LEGACY_STORAGE_KEY);\n        console.log(`Migrated cancellation guides to user-specific key: ${storageKey}`);\n        setCachedGuides(JSON.parse(legacyData));\n      } catch (error) {\n        console.error('Failed to migrate legacy guides:', error);\n      }\n    } else {\n      // 新キーからデータ読み込み\n      try {\n        const stored = localStorage.getItem(storageKey);\n        if (stored) {\n          setCachedGuides(JSON.parse(stored));\n        }\n      } catch (error) {\n        console.error('Failed to load cached guides:', error);\n      }\n    }\n\n    setIsInitialized(true);\n  }, [userEmail, authLoading]);\n\n  // LocalStorageに保存（userEmailがある場合のみ）\n  useEffect(() => {\n    if (isInitialized && userEmail && Object.keys(cachedGuides).length > 0) {\n      try {\n        const storageKey = getStorageKey(userEmail);\n        localStorage.setItem(storageKey, JSON.stringify(cachedGuides));\n      } catch (error) {\n        console.error('Failed to save cached guides:', error);\n      }\n    }\n  }, [cachedGuides, userEmail, isInitialized]);\n\n  const fetchGuide = useCallback(async (serviceName: string): Promise<GeneratedCancellationGuide | null> => {\n    // 既にキャッシュにある場合はそれを返す\n    if (cachedGuides[serviceName]) {\n      return cachedGuides[serviceName];\n    }\n\n    // ローディング中の場合はnull\n    if (loadingServices.has(serviceName)) {\n      return null;\n    }\n\n    // ローディング開始\n    setLoadingServices(prev => new Set(prev).add(serviceName));\n\n    try {\n      const response = await fetch('/api/cancellation-guide', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ serviceName }),\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        throw new Error(error.error || '取得に失敗しました');\n      }\n\n      const { guide } = await response.json();\n\n      // キャッシュに保存\n      setCachedGuides(prev => ({\n        ...prev,\n        [serviceName]: guide,\n      }));\n\n      return guide;\n    } catch (error) {\n      console.error('Failed to fetch guide:', error);\n      throw error;\n    } finally {\n      setLoadingServices(prev => {\n        const next = new Set(prev);\n        next.delete(serviceName);\n        return next;\n      });\n    }\n  }, [cachedGuides, loadingServices]);\n\n  const getGuide = useCallback((serviceName: string): GeneratedCancellationGuide | undefined => {\n    return cachedGuides[serviceName];\n  }, [cachedGuides]);\n\n  const isLoading = useCallback((serviceName: string): boolean => {\n    return loadingServices.has(serviceName);\n  }, [loadingServices]);\n\n  return (\n    <CancellationGuideContext.Provider\n      value={{\n        cachedGuides,\n        loadingServices,\n        fetchGuide,\n        getGuide,\n        isLoading,\n      }}\n    >\n      {children}\n    </CancellationGuideContext.Provider>\n  );\n}\n\nexport function useCancellationGuide() {\n  const context = useContext(CancellationGuideContext);\n  if (!context) {\n    throw new Error('useCancellationGuide must be used within CancellationGuideProvider');\n  }\n  return context;\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","vendored","ReactJsxRuntime","React"],"mappings":"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","ignoreList":[0,1,2]}