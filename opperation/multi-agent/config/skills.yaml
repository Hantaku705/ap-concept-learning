# Multi-Agent System - Skills Configuration
# Define reusable skills that agents can execute

skills:
  # Code Review Skill
  code-review:
    id: code-review
    name: Code Review
    description: Comprehensive code review with security and quality checks
    trigger: "コードレビュー|code review"
    steps:
      - action: analyze
        target: changed_files
        checks:
          - security
          - code_quality
          - best_practices
      - action: report
        format: markdown
        sections:
          - critical_issues
          - high_priority
          - suggestions
    success_criteria:
      - all_files_reviewed
      - report_generated

  # TDD Workflow Skill
  tdd-workflow:
    id: tdd-workflow
    name: TDD Workflow
    description: Test-Driven Development workflow
    trigger: "TDD|テスト駆動"
    steps:
      - action: create_test
        description: Write failing test first
      - action: run_test
        expected: fail
      - action: implement
        description: Write minimal code to pass
      - action: run_test
        expected: pass
      - action: refactor
        description: Improve code while keeping tests green
    success_criteria:
      - tests_pass
      - coverage >= 80%

  # API Endpoint Creation Skill
  api-endpoint:
    id: api-endpoint
    name: API Endpoint Creation
    description: Create a new API endpoint with types and tests
    trigger: "APIエンドポイント|API endpoint"
    steps:
      - action: create_route
        template: app/api/[name]/route.ts
      - action: create_types
        template: types/[name].ts
      - action: create_test
        template: tests/api/[name].test.ts
    success_criteria:
      - route_responds
      - types_valid
      - tests_pass

  # Component Creation Skill
  component-creation:
    id: component-creation
    name: Component Creation
    description: Create a new React component with tests
    trigger: "コンポーネント作成|create component"
    steps:
      - action: create_component
        template: components/[Name]/index.tsx
      - action: create_styles
        template: components/[Name]/styles.ts
      - action: create_test
        template: components/[Name]/[Name].test.tsx
    success_criteria:
      - component_renders
      - tests_pass

# Skill auto-generation settings
auto_generation:
  pattern_recognition:
    min_similarity: 0.85
    min_occurrences: 3
  naming:
    prefix: auto-
    format: "{action}-{target}"
  metadata:
    track_success_rate: true
    track_usage_count: true
    track_last_used: true
